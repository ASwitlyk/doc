// Copyright 2009-2012 by contributors, MIT License
// vim: ts=4 sts=4 sw=4 expandtab

(function(e){typeof define=="function"?define(e):typeof YUI=="function"?YUI.add("es5-sham",e):e()})(function(){function r(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:prototypeOfObject)});if(!Object.getOwnPropertyDescriptor){var e="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(n,r){if(typeof n!="object"&&typeof n!="function"||n===null)throw new TypeError(e+n);if(!owns(n,r))return;var i={enumerable:!0,configurable:!0};if(supportsAccessors){var s=n.__proto__;n.__proto__=prototypeOfObject;var o=lookupGetter(n,r),u=lookupSetter(n,r);n.__proto__=s;if(o||u)return o&&(i.get=o),u&&(i.set=u),i}return i.value=n[r],i}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)});if(!Object.create){var t,n=Object.prototype.__proto__===null;n||typeof document=="undefined"?t=function(){return{__proto__:null}}:t=function(){function r(){}var e=document.createElement("iframe"),t=document.body||document.documentElement;e.style.display="none",t.appendChild(e),e.src="javascript:";var n=e.contentWindow.Object.prototype;return t.removeChild(e),e=null,delete n.constructor,delete n.hasOwnProperty,delete n.propertyIsEnumerable,delete n.isPrototypeOf,delete n.toLocaleString,delete n.toString,delete n.valueOf,n.__proto__=null,r.prototype=n,function(){return new r}}(),Object.create=function(n,r){function s(){}var i;if(n===null)i=t();else{if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object prototype may only be an Object or null");s.prototype=n,i=new s,i.__proto__=n}return r!==void 0&&Object.defineProperties(i,r),i}}if(Object.defineProperty){var i=r({}),s=typeof document=="undefined"||r(document.createElement("div"));if(!i||!s)var o=Object.defineProperty,u=Object.defineProperties}if(!Object.defineProperty||o){var a="Property description must be an object: ",f="Object.defineProperty called on non-object: ",l="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,n,r){if(typeof t!="object"&&typeof t!="function"||t===null)throw new TypeError(f+t);if(typeof r!="object"&&typeof r!="function"||r===null)throw new TypeError(a+r);if(o)try{return o.call(Object,t,n,r)}catch(i){}if(owns(r,"value"))if(supportsAccessors&&(lookupGetter(t,n)||lookupSetter(t,n))){var s=t.__proto__;t.__proto__=prototypeOfObject,delete t[n],t[n]=r.value,t.__proto__=s}else t[n]=r.value;else{if(!supportsAccessors)throw new TypeError(l);owns(r,"get")&&defineGetter(t,n,r.get),owns(r,"set")&&defineSetter(t,n,r.set)}return t}}if(!Object.defineProperties||u)Object.defineProperties=function(t,n){if(u)try{return u.call(Object,t,n)}catch(r){}for(var i in n)owns(n,i)&&i!="__proto__"&&Object.defineProperty(t,i,n[i]);return t};Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(c){Object.freeze=function(t){return function(n){return typeof n=="function"?n:t(n)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)!==t)throw new TypeError;var n="";while(owns(t,n))n+="?";t[n]=!0;var r=owns(t,n);return delete t[n],r})});