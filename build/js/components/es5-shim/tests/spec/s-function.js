describe("Function",function(){describe("bind",function(){function r(){return Array.prototype.forEach.call(arguments,function(e){this.push(e)},this),this}var e,t,n;n={push:function(e){this.a.push(e)}},beforeEach(function(){e=[],n.a=[]}),it("binds properly without a context",function(){var e;n.func=function(){e=this}.bind(),n.func(),expect(e).toBe(function(){return this}.call())}),it("binds properly without a context, and still supplies bound arguments",function(){var e,t;n.func=function(){e=Array.prototype.slice.call(arguments),t=this}.bind(undefined,1,2,3),n.func(1,2,3),expect(e).toEqual([1,2,3,1,2,3]),expect(t).toBe(function(){return this}.call())}),it("binds a context properly",function(){n.func=r.bind(e),n.func(1,2,3),expect(e).toEqual([1,2,3]),expect(n.a).toEqual([])}),it("binds a context and supplies bound arguments",function(){n.func=r.bind(e,1,2,3),n.func(4,5,6),expect(e).toEqual([1,2,3,4,5,6]),expect(n.a).toEqual([])}),it("returns properly without binding a context",function(){n.func=function(){return this}.bind();var e=n.func();expect(e).toBe(function(){return this}.call())}),it("returns properly without binding a context, and still supplies bound arguments",function(){var t;n.func=function(){return t=this,Array.prototype.slice.call(arguments)}.bind(undefined,1,2,3),e=n.func(1,2,3),expect(t).toBe(function(){return this}.call()),expect(e).toEqual([1,2,3,1,2,3])}),it("returns properly while binding a context properly",function(){var t;n.func=r.bind(e),t=n.func(1,2,3),expect(t).toBe(e),expect(t).not.toBe(n)}),it("returns properly while binding a context and supplies bound arguments",function(){var t;n.func=r.bind(e,1,2,3),t=n.func(4,5,6),expect(t).toBe(e),expect(t).not.toBe(n)}),it("passes the correct arguments as a constructor",function(){var e,t={name:"Correct"};n.func=function(e){return e}.bind({name:"Incorrect"}),e=new n.func(t),expect(e).toBe(t)}),it("returns the return value of the bound function when called as a constructor",function(){var e=[1,2,3],t=function(){return e}.bind(null),n=new t;expect(n).toBe(e)}),it("returns the correct value if constructor returns primitive",function(){var e=[1,2,3],t=function(){return e}.bind(null),n=new t;expect(n).toBe(e),e={},n=new t,expect(n).toBe(e),e=function(){},n=new t,expect(n).toBe(e),e="asdf",n=new t,expect(n).not.toBe(e),e=null,n=new t,expect(n).not.toBe(e),e=!0,n=new t,expect(n).not.toBe(e),e=1,n=new t,expect(n).not.toBe(e)}),it('returns the value that instance of original "class" when called as a constructor',function(){var e=function(e){this.name=e||"A"},t=e.bind(null,"B"),n=new t;expect(n instanceof e).toBe(!0),expect(n instanceof t).toBe(!0)})})});