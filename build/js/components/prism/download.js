(function(){function p(){for(var t in components){var r=components[t];for(var i in r){if(i==="meta")continue;var s=r[i].files[n?"minified":"dev"],o=s.paths;o.forEach(function(n){var r=e[n]=e[n]||{};r.contents?v(t,i):function(e,t,n,r,i){$u.xhr({url:r,callback:function(r){r.status<400&&(n.contents=r.responseText,n.size=+r.getResponseHeader("Content-Length")||n.contents.length,i.size+=n.size,v(e,t))}})}(t,i,r,n,s)})}}}function d(e){return Math.round(100*e/1024)/100+"KB"}function v(t,r){var i={js:0,css:0},s={js:0,css:0};for(var o in components){var u=components[o];for(var a in u){var f=u[a];if(f.enabled||a==r){var l=f.files[n?"minified":"dev"];l.paths.forEach(function(t){if(e[t]){var n=t.match(/\.(\w+)$/)[1],o=e[t].size||0;f.enabled&&(i[n]+=o),a==r&&(s[n]+=o)}})}}}i.all=i.js+i.css,s.all=s.js+s.css,$u.element.prop($('label[data-id="'+r+'"] .filesize'),{textContent:d(s.all),title:(s.js?Math.round(100*s.js/s.all)+"% JavaScript":"")+(s.js&&s.css?" + ":"")+(s.css?Math.round(100*s.css/s.all)+"% CSS":"")}),$("#filesize").textContent=d(i.all),$u.element.prop($("#percent-js"),{textContent:Math.round(100*i.js/i.all)+"%",title:d(i.js)}),$u.element.prop($("#percent-css"),{textContent:Math.round(100*i.css/i.all)+"%",title:d(i.css)}),m()}function m(){var t={js:"",css:""};for(var r in components){var i=components[r];for(var s in i){if(s==="meta")continue;var o=i[s];o.enabled&&o.files[n?"minified":"dev"].paths.forEach(function(n){if(e[n]){var r=n.match(/\.(\w+)$/)[1];t[r]+=e[n].contents+(r==="js"?";":"")+"\n"}})}}for(var u in t){var a=$("#download-"+u+" code");a.textContent=t[u],Prism.highlightElement(a,!0),$("#download-"+u+" .download-button").href="data:application/octet-stream;charset=utf-8,"+encodeURIComponent(t[u])}}var e={},t=$("form"),n=!0,r={};for(var i in components){var s=components[i];s.meta.section=$u.element.create("section",{className:"options",contents:{tag:"h1",contents:i.charAt(0).toUpperCase()+i.slice(1)},inside:"#components"});for(var o in s){if(o==="meta")continue;var u=!1,a=!1,f=s[o].option||s.meta.option;switch(f){case"mandatory":a=!0;case"default":u=!0}var l=s.meta.path.replace(/\{id}/g,o),c=s[o]={title:s[o].title||s[o],hasCSS:s[o].hasCSS!==undefined?s[o].hasCSS:s.meta.hasCSS,enabled:u,require:s[o].require,files:{minified:{paths:[],size:0},dev:{paths:[],size:0}}};c.require&&(r[c.require]=(r[c.require]||[]).concat(o)),/\.css$/.test(l)||(c.files.minified.paths.push(l.replace(/(\.js)?$/,".min.js")),c.files.dev.paths.push(l.replace(/(\.js)?$/,".js")));if(s[o].hasCSS&&!/\.js$/.test(l)||/\.css$/.test(l)){var h=l.replace(/(\.css)?$/,".css");c.files.minified.paths.push(h),c.files.dev.paths.push(h)}$u.element.create("label",{attributes:{"data-id":o},contents:[{tag:"input",properties:{type:s.meta.exclusive?"radio":"checkbox",name:"download-"+i,value:o,checked:u,disabled:a,onclick:function(e,t,n){return function(){$$('input[name="'+this.name+'"]').forEach(function(e){n[e.value].enabled=e.checked});if(n[e].require&&this.checked){var i=$('label[data-id="'+n[e].require+'"] > input');i.checked=!0,i.onclick()}r[e]&&!this.checked&&r[e].forEach(function(e){var t=$('label[data-id="'+e+'"] > input');t.checked=!1,t.onclick()}),v(t,e)}}(o,i,s)}},s.meta.link?{tag:"a",properties:{href:s.meta.link.replace(/\{id}/g,o)},contents:c.title}:c.title," ",{tag:"strong",className:"filesize"}],inside:s.meta.section})}}t.elements.compression[0].onclick=t.elements.compression[1].onclick=function(){n=!!+this.value,p()},p()})();